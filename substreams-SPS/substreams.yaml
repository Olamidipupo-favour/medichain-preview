specVersion: 0.1.0 # Specifies the version of the Substreams specification
description: Substreams configuration for pharmaceutical batch tracking # Describes the purpose of the Substreams configuration
repository: https://github.com/yourusername/pharma-supply-chain-tracker # URL to the project's repository
schema:
  file: ./schema.graphql # Path to the GraphQL schema file
dataSources:
  - kind: ethereum/contract # Type of data source, in this case, an Ethereum contract
    name: DrugBatch # Name of the contract
    network: rinkeby # Ethereum network (Rinkeby testnet)
    source:
      address: "0xYourContractAddress" # Address of the deployed smart contract
      abi: DrugBatch # ABI of the contract
    modules:
      - name: extractBatchCreated # Name of the Substreams module
        description: Extracts BatchCreated events # Description of the module's purpose
        kind: map # Type of module, in this case, a map module
        inputs:
          - source: "batchCreated" # Input source, which is an event
        output:
          type: BatchCreatedEvent # Type of output produced by this module

      - name: extractBatchUpdated # Name of another Substreams module
        description: Extracts BatchUpdated events # Description of the module's purpose
        kind: map # Type of module
        inputs:
          - source: "batchUpdated" # Input source, which is an event
        output:
          type: BatchUpdatedEvent # Type of output produced by this module

      - name: extractTemperatureExceeded # Name of yet another Substreams module
        description: Extracts TemperatureExceeded events # Description of the module's purpose
        kind: map # Type of module
        inputs:
          - source: "temperatureExceeded" # Input source, which is an event
        output:
          type: TemperatureExceededEvent # Type of output produced by this module
